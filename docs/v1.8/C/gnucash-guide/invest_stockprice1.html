<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>8.5. Setting Stock Price</title><meta name="generator" content="DocBook XSL Stylesheets V1.45"><link rel="home" href="index.html" title="GnuCash Concepts Guide v1.8"><link rel="up" href="chapter8.html" title="Chapter 8. Investments"><link rel="previous" href="invest_setup1.html" title="8.4. Setup Stock Portfolio"><link rel="next" href="invest_dividends1.html" title="8.6. Dividends"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.5. Setting Stock Price</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="invest_setup1.html">&lt;&lt;&lt; Prev</a> </td><th width="60%" align="center">Chapter 8. Investments</th><td width="20%" align="right"> <a accesskey="n" href="invest_dividends1.html">Next &gt;&gt;&gt;</a></td></tr></table><hr></hr></div><div class="sect1"><div class="titlepage"><div><h2 class="title" style="clear: both"><a name="invest_stockprice1"></a>8.5. Setting Stock Price</h2></div></div><p>
The value of a commodity, such as a stock, must be explicitly set.  The stock accounts track the quantity of stocks you own, but the value of the stock is stored in the <b>Price Editor</b>.  The values set in the Price Editor can be updated manually or automatically.
 </p><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="invest_stockprice_initial2"></a>8.5.1. Initial Price Editor Setup</h3></div></div><p>To use the Price Editor to track a stock value, you must initially insert the stock.  To do so, open the Price Editor (<b>Tools</b> -&gt; <b>Price Editor</b>) and click on Add button.  Select the appropriate Commodity you want to insert into the Price Editor.  At this point, you can input the price of the commodity manually.  There are 5 fields in the New Commodity window:</p><div class="itemizedlist"><ul><li><p><b>Commodity</b> - the name of the commodity, must be chosen from the Select... list</p></li><li><p><b>Currency</b> - the currency the in which the Price is expressed.</p></li><li><p><b>Date</b> - date that the price is valid</p></li><li><p><b>Type</b> - one of: <b>Bid</b> (the market buying price), <b>Ask</b> (the market selling price), <b>Last</b> (the last transaction price), <b>Net Asset Value</b> (mutual fund price per share), or <b>Unknown</b>.  Stocks and currencies will usually give their quotes as one of bid, ask or last.  Mutual funds are often given as net asset value.  For other commodities, simply choose "Unknown".  This option is for informational purposes only, it is not used by GnuCash.</p></li><li><p><b>Price</b> - the price of one unit of this commodity.</p></li></ul></div><div class="screenshot"><div class="mediaobject"><img src="figures/invest_peditor.png" alt="Price Editor"><div class="caption"><p>Adding the AMZN commodity to the price editor, with an initial value of $40.50 per share.</p></div></div></div><p>Click OK when finished.  Once you have performed this initial placement of the commodity into the Price Editor, you will not have to do it again, even if you use the same commodity in another account.</p><div class="screenshot"><div class="mediaobject"><img src="figures/invest_peditor2.png" alt="Price Editor"><div class="caption"><p>The main price editor window, showing the list of all known commodities.</p></div></div></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="invest_stockprice_manual2"></a>8.5.2. Setting Stock Price Manually</h3></div></div><p>
If the value of the commodity (stock) changes, you can adjust the value by entering the Price Editor, selecting the commodity, clicking on edit and entering the new price.
 </p></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="invest_stockprice_auto2"></a>8.5.3. Setting Stock Price Automatically</h3></div></div><p>If you have many commodities, you will tire of having to update their prices constantly.  GnuCash has the ability to automatically determine the most recent price for your commodities using the Internet.  This is accomplished through the Perl module Finance::Quote, which must be installed in order to activate this feature.  </p><p>To determine if the Perl module Finance::Quote is already installed on your system, type &#8220;perldoc Finance::Quote&#8221; in a terminal window and look to see if there is any documentation available.  If you see the documentation, then the module is installed, if you do not see the documentation, then it has not been installed.</p><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="invest_stockprice_auto_install3"></a>8.5.3.1. Installing Finance::Quote</h4></div></div><p>To install Finance::Quote begin by first closing any GnuCash applications you have running.  Second, open a root shell and run the command &#8220;update-finance-quote&#8221; (without the quotation marks).  This will launch a Perl CPAN update session that will go out onto the Internet and install the Finance::Quote module on your system.  The update-finance-quote program is interactive, however, with most systems you should be able to answer "no" to the first question: &#8220;Are you ready for manual configuration? [yes]&#8221; and the update will continue automatically from that point.</p><p>After installation is complete, you should run the "dump-finance-quote" test program distributed with GnuCash to test if Finance::Quote is installed and working properly.</p><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="./stylesheet/note.png"></img></td><th align="left" valign="top">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p xmlns="">If you feel uncomfortable about performing any of these steps, please either email the GnuCash-user mailing list (gnucash-user@gnucash.org) for help or come to the GnuCash IRC channel on irc.gnome.org. You can also leave out this step and manually update your stock prices.</p></td></tr></table></div></div><div class="sect3"><div class="titlepage"><div><h4 class="title"><a name="invest_stockprice_auto_configure3"></a>8.5.3.2. Configuring Finance::Quote</h4></div></div><p>With Finance::Quote installed and functioning correctly, you must configure your GnuCash stock accounts to use this feature to obtain updated price information automatically.  For stock accounts that have already been setup, edit the account and select the <b>Get Online Quotes</b> box.  You should now be able to modify the popup menus <b>The source for price quotes</b> and <b>The timezone for these quotes</b>.  When finished editing the stock account, return to the price editor and click on the Get Quotes button to update your stock prices on the internet.</p><p>The command "gnucash --add-price-quotes $HOME/gnucash.xac" can be used to fetch the current prices of your stocks. This can be automated by creating a crontab entry. For example, to update your file every Friday evening after the Wall Street markets close (modify the time accordingly for your time zone), you could add the following to your personal crontab:</p><p>0 16 * * 5      gnucash --add-price-quotes $HOME/gnucash.xac &gt; /dev/null 2&gt;&amp;1 </p></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="invest_stockprice_view2"></a>8.5.4. Displaying Stock Value</h3></div></div><p>
The main account window will by default only shows the quantity of each commodity that you own, under the column heading <b>Total</b>.  In the case of stocks, this commodity is the number of shares.  Often, however, you will want to see the value of your stocks expressed in terms of some monetary unit.  This is easily accomplished by entering the main window account options, by clicking on the tool bar Options button, and select to display the account field &#8220;Total in Report Currency&#8221;.  You will see a new column in the main window entitled <b>Total (Report)</b> that will express the value of all commodities in the report currency.
 </p><div class="screenshot"><div class="mediaobject"><img src="figures/invest_stockvalue.png" alt="Viewing Stock Value"><div class="caption"><p>Viewing the value of a stock commodity in the main window using the Total in Report Currency option.</p></div></div></div></div><div class="sect2"><div class="titlepage"><div><h3 class="title"><a name="invest_stockprice_report"></a>8.5.5. Making Stock Value Reports</h3></div></div><p>
Gnucash offers three alternatives to determine stock prices in reports:
 </p><div class="screenshot"><div class="mediaobject"><img src="figures/invest_stockvalue_report_options.png" alt="Determining Stock Price Source in Reports"><div class="caption"><p>Determining the value of a stock commodity in a report by setting the Price Source option.</p></div></div></div><div class="itemizedlist"><ul><li><p><b>Weighted Average</b> - gives you a graph of the weighted price of all <b>transactions</b>. It will <b>not</b> take into account prices defined in the price editor.</p></li><li><p><b>Most recent</b> - displays the changing value of your stocks based solely on <b>the most recent</b> price available from the price editor.  The price figuring in your stock transactions is <b>not</b> considered.</p></li><li><p><b>Nearest in time</b> - the graph is exclusively based on the prices available from the price editor. The value of your stock at each step and point in time is calculated based on the nearest available price in the price editor.</p></li></ul></div><div class="screenshot"><div class="mediaobject"><img src="figures/invest_stockvalue_report.png" alt="An Asset Barchart Report based on the Nearest in time Price Source."><div class="caption"><p>Tracking what value your stocks would've had on the stock exchanges.</p></div></div></div></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr></hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="invest_setup1.html">&lt;&lt;&lt; Prev</a> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right"> <a accesskey="n" href="invest_dividends1.html">Next &gt;&gt;&gt;</a></td></tr><tr><td width="40%" align="left">8.4. Setup Stock Portfolio </td><td width="20%" align="center"><a accesskey="u" href="chapter8.html">Up</a></td><td width="40%" align="right"> 8.6. Dividends</td></tr></table></div></body></html>
