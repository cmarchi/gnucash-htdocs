<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>7.3. 計算</title><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="GnuCash チュートリアル・コンセプト ガイド"><link rel="up" href="chapter_loans.html" title="第7章 ローン"><link rel="prev" href="loans_accounts1.html" title="7.2. 勘定科目のセットアップ"><link rel="next" href="loans_mortgage1.html" title="7.4. 住宅ローン (How-To)"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">7.3. 計算</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="loans_accounts1.html">&lt;&lt;&lt; 前のページ</a> </td><th width="60%" align="center">第7章 ローン</th><td width="20%" align="right"> <a accesskey="n" href="loans_mortgage1.html">次のページ &gt;&gt;&gt;</a></td></tr></table><hr></hr></div><div class="sect1" title="7.3. 計算"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="loans_calcs1"></a>7.3. 計算</h2></div></div></div><p>ローン債務償還計画、定期返済額の総額、総支払い額、または利子に関して決定することは幾分複雑である場合があります。これらの種類の計算を容易にするために、GnuCashには内蔵の財務計算機があります。計算機にアクセスするためには、<span class="guimenu"><strong>ツール</strong></span> → <span class="guimenuitem"><strong>財務計算機</strong></span>を選択します。</p><div class="screenshot"><div class="mediaobject"><img src="figures/loans_fcalc.png" alt="財務計算機"><div class="caption"><p>GnuCash財務計算機。</p></div></div></div><p>財務計算機は、次のパラメータのどれかを計算するのに使用されます。<span class="guilabel"><strong>返済期間</strong></span>、<span class="guilabel"><strong>利率</strong></span>、<span class="guilabel"><strong>現在価値</strong></span>、<span class="guilabel"><strong>定期返済額</strong></span>、または他の4つが決定された時に計算される<span class="guilabel"><strong>将来価値</strong></span>。また、複利計算方法と支払い方法を指定する必要があります。</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><strong>返済期間</strong></span> - 返済期間の回数。</p></li><li class="listitem"><p><span class="emphasis"><strong>利率</strong></span> - ローンの表面利率、すなわち実質年率</p></li><li class="listitem"><p><span class="emphasis"><strong>現在価値</strong></span> - ローンの現在の価格、すなわち借りているローンの現在額。</p></li><li class="listitem"><p><span class="emphasis"><strong>定期支払額</strong></span> - 単位期間で支払う金額。</p></li><li class="listitem"><p><span class="emphasis"><strong>将来価値</strong></span> - ローンの将来価値、すなわちすべての返済期間が終わった後に、借りられていた総額。</p></li><li class="listitem"><p><span class="emphasis"><strong>複利</strong></span> - 離散と連続の2つの複利計算方法が存在しています。離散複利計算の場合はポップアップメニューで離散的な複利計算の頻度を選択してください。毎年から毎日までの変動幅があります。</p></li><li class="listitem"><p><span class="emphasis"><strong>支払</strong></span> - ポップアップメニューで、毎年から毎日までの変動幅の支払い頻度を選択できます。また、支払いが初日に発生するか、または末日に発生するかの選択してください。支払期間の初日に行われた支払いは、以前に支払われた金額またはまだ借りられてる金額と同様の利子が適用されるようになっています。</p></li></ul></div><div class="sect2" title="7.3.1. 例: 毎月払い"><div class="titlepage"><div><div><h3 class="title"><a name="loans_calcsexample1_2"></a>7.3.1. 例: 毎月払い</h3></div></div></div><p>100000ドルを30年間、4%の固定金利、毎月の複利計算で毎月払いにした時、毎月の支払額はいくらでしょうか?</p><p>このシナリオは上記の例の画像で表示されます。この計算を実行するために、支払い期間に360 (12カ月x30年間)を入力、利率に4を入力、現在価値に100000を入力、定期的支払い額に何も入力しない、将来価値に0を入力します (ローンの終了のときに何も借りていません)。複利の設定は離散、毎月にします。期間の設定は末日、毎月にします。では、下部にある<span class="guibutton">計算</span>ボタンを押してください。定期的支払額に-477.42が表示されます。</p><p>答: 毎月払い金額は477.42ドルになります。</p></div><div class="sect2" title="7.3.2. 例: ローンの期間"><div class="titlepage"><div><div><h3 class="title"><a name="loans_calcsexample2_2"></a>7.3.2. 例: ローンの期間</h3></div></div></div><p>20000ドルのローンを返済するのに、10%の固定金利、毎月の複利計算、1カ月あたり500ドル支払うなら、どれくらいの期間がかかるでしょうか?</p><p>この計算を実行するためには、支払期間を空白にします。利率に10を入力します。現在価値に20000を入力します。定期支払額に-500を入力します。そして将来価値に0を入力します (ローンの終了のときに何も借りていません)。複利の設定は離散、毎月にします。期間の設定は末日、毎月にします。では、下部にある<span class="guibutton">計算</span>ボタンを押してください。支払期間に48が表示されます。</p><p>答: 4年(48カ月)後にローンを完済します。</p></div><div class="sect2" title="7.3.3. 発展: 計算の詳細"><div class="titlepage"><div><div><h3 class="title"><a name="loans_calcsdetails2"></a>7.3.3. 発展: 計算の詳細</h3></div></div></div><p>財務計算機によって使用される数式を説明するためには、最初に、いくつかの変数を定義しなければなりません。
</p><div class="literallayout"><p><br>
 n  == 支払期間の数値<br>
 %i  == 表面利率、NAR<br>
 PV  == 現在価値<br>
 PMT == 定期支払額<br>
 FV  == 将来価値<br>
 CF == 1年あたりの複利計算の頻度<br>
 PF == 1年あたりの支払い頻度<br>
<br>
CFとPFの標準の値はそれぞれ以下の通りです。<br>
   1   == 毎年<br>
   2   == 年2回<br>
   3   == 年三回<br>
   4   == 四半期ごと<br>
   6   == 2ヶ月ごと<br>
   12  == 毎月<br>
   24  == 月2回<br>
   26  == 2週間ごと<br>
   52  == 毎週<br>
   360 == 毎日(360)<br>
   365 == 毎日(365)<br>
</p></div><p>
      </p><div class="sect3" title="7.3.3.1. 表面利率と実効利率の間の変換"><div class="titlepage"><div><div><h4 class="title"><a name="loans_calcsdetails_i2"></a>7.3.3.1. 表面利率と実効利率の間の変換</h4></div></div></div><p>n、 PV、 PMTまたはFVを求める時には、最初に表面利率 (i)を、支払いの期間あたりの実効利率 (ieff) に変換しなければなりません。このレート (ieff) は、後に選択された変数を計算するのに使用されます。i を求める時には、計算によって実効利率 (ieff) を求めます。したがって、i から ieff まで変換する機能と ieff から i まで計算する機能が必要です。</p><div class="literallayout"><p><br>
i から ieff まで変換するためには以下の式を使用しています。<br>
離散的な利率:     <span class="emphasis"><strong>ieff = (1 + i/CF)^(CF/PF) - 1</strong></span><br>
連続した利率: <span class="emphasis"><strong>ieff = e^(i/PF) - 1 = exp(i/PF) - 1</strong></span><br>
<br>
ieff から i まで変換するためには以下の式を使用しています。<br>
離散的な利率:      <span class="emphasis"><strong>i = CF*[(1+ieff)^(PF/CF) - 1]</strong></span><br>
連続した利率: <span class="emphasis"><strong>i = ln[(1+ieff)^PF]</strong></span><br>
</p></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" xmlns:doc="http://nwalsh.com/xsl/documentation/1.0" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0"><tr><td rowspan="2" align="center" valign="top" width="25"><img src="./stylesheet/note.png"></img></td><th align="left" valign="top">注記</th></tr><tr><td colspan="2" align="left" valign="top"><p xmlns="">金融的取引のための以下の方程式では、すべての利率が実効利率、ieffです。簡潔にするために、文字では単に<span class="quote">「<span class="quote">i</span>」</span>と表記します。</p></td></tr></table></div></div><div class="sect3" title="7.3.3.2. 基本的な財務方程式"><div class="titlepage"><div><div><h4 class="title"><a name="loans_calcsdetails_basic2"></a>7.3.3.2. 基本的な財務方程式</h4></div></div></div><p>1つの方程式が基本的に5個すべてのの変数を関連づけます。これは基本的な財務方程式として知られています。</p><div class="literallayout"><p><br>
<span class="emphasis"><strong>PV*(1 + i)^n + PMT*(1 + iX)*[(1+i)^n - 1]/i + FV = 0</strong></span><br>
<br>
ここでXは次を表します。<br>
   X = 0 : 支払い期間の終了時<br>
   X = 1 : 支払い期間の開始時<br>
</p></div><p>この方程式から個々の変数を解決する関数が、導き出されます。この方程式の派生の詳説のためにGnuCashソースコードのファイル<code class="filename">src/calculation/fin.c</code>にあるコメントを参照してください。後の方程式を読むのをより簡単にするために、変数A、B、およびCを最初に定義します。</p><div class="literallayout"><p><br>
<span class="emphasis"><strong>A = (1 + i)^n - 1</strong></span><br>
<span class="emphasis"><strong>B = (1 + iX)/i</strong></span><br>
<span class="emphasis"><strong>C = PMT*B</strong></span><br>
<br>
<span class="emphasis"><strong>n = ln[(C - FV)/(C + PV)]/ln((1 + i)</strong></span><br>
<span class="emphasis"><strong>PV = -[FV + A*C]/(A + 1)</strong></span><br>
<span class="emphasis"><strong>PMT = -[FV + PV*(A + 1)]/[A*B]</strong></span><br>
<span class="emphasis"><strong>FV = -[PV + A*(PV + C)] </strong></span><br>
<br>
利率のための解は2つの場合に分かれます。<br>
PMT = 0が与えられる、解を求めるのが簡単な場合:<br>
<span class="emphasis"><strong>i = [FV/PV]^(1/n) - 1</strong></span><br>
<br>
</p></div><p>PMT != 0 の場合は非常に複雑であり、ここで記述することはできません。PMT != 0 の場合、正確に解決できる関数があるというよりは、利率を決定するに反復の演算が必要となります。詳細な説明は<code class="filename">src/calculation/fin.c</code>ソースファイルを参照してください。</p></div><div class="sect3" title="7.3.3.3. 例: 毎月払い"><div class="titlepage"><div><div><h4 class="title"><a name="loans_calcsdetails_ex2"></a>7.3.3.3. 例: 毎月払い</h4></div></div></div><p><a class="xref" href="loans_calcs1.html#loans_calcsexample1_2" title="7.3.1. 例: 毎月払い">「例: 毎月払い」</a>を再検討しましょう。今回は財務計算機ではなく数式を使用します。100000ドルを30年間、4%の固定金利、毎月の複利計算で毎月払いにした時、毎月の支払額はいくらでしょうか?</p><p>まず最初に、変数を定義しましょう: n = (30*12) = 360 、 PV =
        100000、 PMT = 未知、 FV = 0、 i = 4%=4/100=0.04, CF = PF = 12、 X = 0
        (支払期間の終了時).</p><p>第2ステップは、実効利率 (ieff) に表面利率 (i) を変換することです。利率は離散的な毎月の複利計算にします。よって次を使用します。ieff = (1 +
        i/CF)^(CF/PF) - 1。これにより、 ieff = (1 + 0.04/12)^(12/12) - 1、したがって、ieff = 1/300 = 0.0033333。</p><p>次は、AとBを計算します。 A = (1 + i)^n - 1 = (1 +
        1/300)^360 - 1 = 2.313498。 B = (1 + iX)/i = (1 + (1/300)*0)/(1/300) =
        300。</p><p>AとBを使って、PMTを計算します。PMT = -[FV + PV*(A +
        1)]/[A*B] = -[0 + 100000*(2.313498 + 1)] / [2.313498 * 300] =
        -331349.8 / 694.0494 = -477.415296 = -477.42。</p><p>答: 毎月払い金額は477.42ドルになります。</p></div></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr></hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="loans_accounts1.html">&lt;&lt;&lt; 前のページ</a> </td><td width="20%" align="center"><a accesskey="h" href="index.html">ホーム</a></td><td width="40%" align="right"> <a accesskey="n" href="loans_mortgage1.html">次のページ &gt;&gt;&gt;</a></td></tr><tr><td width="40%" align="left">7.2. 勘定科目のセットアップ </td><td width="20%" align="center"><a accesskey="u" href="chapter_loans.html">上に戻る</a></td><td width="40%" align="right"> 7.4. 住宅ローン (How-To)</td></tr></table></div></body></html>
